<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>
<div class="container">
  <h2>Vertical (basic) Form</h2>
  <form>
    <div class="form-group">
      <label for="userName" >Username:</label>
      <input  class="form-control" id="userName" placeholder="Enter userName">
    </div>
    <div class="form-group">
      <label for="pwd">Password:</label>
      <input type="password" class="form-control" id="pwd" placeholder="Enter password">
    </div>
    <div class="checkbox">
      <label><input type="checkbox"> Remember me</label>
    </div>
    <button type="button" class="btn btn-default" id ="check">Submit</button>
  </form>
</div>
<script>
class Ajax {
   shorterSendAndGet (date, url){
    	let Json = JSON.stringify(date);
        let xml = new XMLHttpRequest();
        xml.open("POST",url, true);
        xml.setRequestHeader("Content-Type", "application/json");
        xml.send(Json);
        console.log(xml.responseText)
       	xml.onreadystatechange = function() {
	    if (xml.readyState == XMLHttpRequest.DONE) {
	    	let co = JSON.parse(xml.responseText);
        alert(xml.responseText);
	    	if(co.login === "true"){
	    		console.log('a')
	    		window.open("/dashboard","_self")
	    	}
	    	else
	    	{
	    		console.log('c')
	    	}
	    };
	   };
   };

   login(date, where){
   		this.shorterSendAndGet(date, where);
   };

};
let ajax = new Ajax();

let check = document.querySelector('#check');
check.addEventListener('click', ()=>{
  let userName = document.querySelector('#userName').value;
  let pwd = document.querySelector('#pwd').value;
  console.log(userName, pwd);

  let data = {
    userName: userName,
    password: pwd
  };

  ajax.login(data,'/login');


},false);
</script>
</body>
</html>
